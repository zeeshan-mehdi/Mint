!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){var r,o,i;o=[e],void 0===(i="function"==typeof(r=function(e){"use strict";e.exports=function(){var e=[],t=500,n={},r="_pubsub_uuid_",o=-1,i="*";function u(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};setTimeout(function(){var r=new Date;e.length>=t&&e.shift(),n.time=r,e.push(n)},0)}function a(e,t,n){try{e.callback.call(e.context,n,t)}catch(e){var r="PubSub Exception: "+e.message+"  Stack: "+e.stack;console.error?console.error(r):console.log(r)}}function s(e,t,n){e.callback.call(e.context,n,t)}function l(e,t,r,o){var i=n[t],u=o?s:a,l=void 0;if(n.hasOwnProperty(t))for(l in i)i.hasOwnProperty(l)&&u(i[l],e,r)}function c(e){var t=String(e);return Boolean(n.hasOwnProperty(t)&&function(e){var t=void 0;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}(n[t]))}function f(e,t,n,r,o){var u=function(e,t,n){return function(){var r=String(e),o=r.lastIndexOf(".");for(l(e,i,t,n),l(e,e,t,n);-1!==o;)r=r.substr(0,o),o=r.lastIndexOf("."),l(e,r,t,n)}}(e,t,r),a=function(e){for(var t=String(e),n=c(t)||c(i),r=t.lastIndexOf(".");!n&&-1!==r;)t=t.substr(0,r),r=t.lastIndexOf("."),n=c(t)||c(i);return n}(e);function s(e){return o&&o({data:t}),e}return a?!0===n?(u(),s(!0)):(setTimeout(function(){u(),s(!0)},0),!0):s(!1)}var h={debug:function(){return{topics:n,actionsLog:e}},createSSEClient:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!window.EventSource||n.fakeNotSupported)return console.log("createSSEClient not supported in your browser");var r=new EventSource(e,{withCredentials:!!n.enableCORS});r.onopen=function(e){if(n.onOpen)return n.onOpen.call(n.context,e)},r.onerror=function(t){if(n.onError)return n.onError.call(n.context,t);console.log("EventSource '"+e+" failed. "+t.message)},r.onmessage=function(e){t.call(n.context,e.data)};var o=n.events?"string"==typeof n.events?[n.events]:n.events:[];return o.forEach(function(e){r.addEventListener(e,function(e){t.call(n.context,e.data,e.type)})}),r},publish:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u({type:"publish",topic:e}),f(e,t,!1,!!n.immediateExceptions,n.deliveryCallback)},publishSync:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u({type:"publishSync",topic:e}),f(e,t,!0,!!n.immediateExceptions,n.deliveryCallback)},subscribe:function(e,t,i){if(u({type:"subscribe",topic:e}),"function"!=typeof t)return!1;n.hasOwnProperty(e)||(n[e]={});var a=r+String(++o);return n[e][a]={callback:t,context:i||t},a},once:function(e,t,n){u({type:"once",topic:e});var r=h.subscribe(e,function(){h.unsubscribe(r),t.apply(n,arguments)});return h},subscribeAll:function(e,t){return u({type:"subscribeAll",topic:""}),h.subscribe(i,e,t)},clearAllSubscriptions:function(){u({type:"clearAllSubscriptions",topic:""}),n={}},clearTopicSubscriptions:function(e){for(var t in u({type:"clearTopicSubscriptions",topic:e}),n)n.hasOwnProperty(t)&&0===t.indexOf(e)&&delete n[t];return!1},clearContextSubscriptions:function(e){return u({type:"clearContextSubscriptions",topic:e.toString()}),h.unsubscribe(e)},unsubscribe:function(e,t,o){var i="string"==typeof e&&e.indexOf(r)>=0,a="string"==typeof e&&!!n[e],s=!1;if(!t&&o&&(t=o,o=null),e||(e=t,t=void 0),!e)return console.log("Invalid Use of pubsub: No parameters passed"),!1;if(u({type:"unsubscribe",topic:e.toString()}),a&&!t&&!o)return delete n[e],!0;var l=Object.keys(n);return l.forEach(function(r){var u=r,l=n[r];if(i&&l[e])return delete l[e],s=e,!0;var c=Object.keys(l);c.forEach(function(r){var i=r,c=l[r];a&&e===u?o&&c.context===o&&c.callback===t?(s=!0,delete n[u][i]):o||c.context!==t&&c.callback!==t||(s=!0,delete n[u][i]):t?e===c.callback&&t===c.context&&(s=!0,delete n[u][i]):e!==c.callback&&e!==c.context||(s=!0,delete n[u][i])})}),s}};return h}})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=116)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(26),u=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.method=n,this.data=r,this.headers=o,this.params=i,this._retryCount=0,this._dispatchInProgress=!1,this._id}return o(e,[{key:"setId",value:function(e){if("string"!=typeof e||""===e||null===e)throw new Error("Must use valid ID format");this._id=e}},{key:"getId",value:function(){return this._id}},{key:"setUrl",value:function(e){if(null===e||""===e||"string"!=typeof e)throw new Error("Must have a valid url");this.url=e}},{key:"getUrl",value:function(e){if(e){var t=(0,i.paramsToQueryString)(this.params);return t&&t.length>0?this.url+"?"+t:this.url}return this.url}},{key:"setMethod",value:function(e){if(null===e||""===e||"string"!=typeof e)throw new Error("Must have a valid method");this.method=e.toLowerCase()}},{key:"getMethod",value:function(){return this.method}},{key:"setPayload",value:function(e){if(null===e)throw new Error("Must have a valid payload");this.data=e}},{key:"getPayload",value:function(){return this.data}},{key:"setHeaders",value:function(e){if(null===e||"object"!==(void 0===e?"undefined":r(e))||!0===Array.isArray(e))throw new Error("Must include valid headers");this.headers=e}},{key:"getHeaders",value:function(){return this.headers}},{key:"setQueryParams",value:function(e){if(null===e)throw new Error("Must set valid query parameters");this.params=e}},{key:"getQueryParams",value:function(){return this.params}},{key:"setRetryCount",value:function(e){if(null===e||e<0)throw new Error("Cannot set an invalid retry count");this._retryCount=e}},{key:"getRetryCount",value:function(){return this._retryCount}},{key:"setDispatchInProgress",value:function(e){this._dispatchInProgress=e}},{key:"getDispatchInProgress",value:function(){return this._dispatchInProgress}}]),e}();t.default=u},function(e,t,n){var r,o;r=[t,n(81),n(12)],void 0===(o=function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=(r=t)&&r.__esModule?r:{default:r},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i={persistence:"memory",logInBand:!0,enabled:!0};this._options=t||i,this._statStore=r instanceof o.default?r:new o.default((0,n.getOption)("persistence",t,i)),this._enabled=(0,n.getOption)("enabled",t,i),this._logInBandModulus=1e4}return i(e,[{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e}}]),i(e,[{key:"apply",value:function(e){if(this.enabled){var t=this.filter(e);return t?this._statStore.insertCount=this._statStore.insertCount+1:this._statStore.dropCount=this._statStore.dropCount+1,t}return this._statStore.insertCount=this._statStore.insertCount+1,!0}},{key:"filter",value:function(e){return!0}},{key:"getStatsJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={insertCount:this._statStore.insertCount,dropCount:this._statStore.dropCount,messageCount:this._statStore.messageCount,sinceTime:this._statStore.sinceTime};return e&&this._statStore.reset(),t}},{key:"shouldSendInBandLogStats",value:function(){return this._statsStore.messageCount%this.logInBandModulus==0}}]),e}();e.default=u}.apply(t,r))||(e.exports=o)},function(e,t,n){var r=n(36),o=n(17);e.exports=function(e,t,n,i){var u=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var l=t[a],c=i?i(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),u?o(n,l,c):r(n,l,c)}return n}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=y(n(11)),u=y(n(24)),a=y(n(22)),s=y(n(10)),l=n(25),c=y(n(20)),f=y(n(0)),h=n(9),p=y(n(29)),d=(y(n(8)),y(n(21)));function y(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));try{r._configuration=e,r._itemStore=new u.default(r._configuration.getItemStoreIdentifier()),r._collector=n&&n.collector?n.collector:new a.default,r._transformer=n&&n.transformer?n.transformer:new p.default,r._purgeStrategy=n&&n.purgeStrategy?n.purgeStrategy:new l.DefaultPurgeStrategy(r._configuration),r._retryStrategy=n&&n.retryStrategy?n.retryStrategy:new h.DefaultRetryStrategy(r._configuration),r._dispatcher=n&&n.dispatcher?n.dispatcher:new s.default(r._retryStrategy),r._url=r._configuration.getUrl(),r._method=r._configuration.getMethod(),r._headers=r._configuration.getHeaders(),r._queryParams=r._configuration.getQueryParams(),r._timerTask=null,r._isTimerStarted=!1,r._timerTaskId=null,r._timeBetweenDispatch=r._configuration.getInterval(),r._dispatcher.setCallback(r),r._purgeStrategy.setMaxStorageInBytes(r._configuration.getMaxBytesQuota()),r.start()}catch(e){console.error("Error initializing ItemQueue",e)}return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default),o(t,[{key:"insert",value:function(e){if(null===e)throw new Error("Item cannot be null");0!==this._configuration.getMaxItemQueueSize()&&(this._itemStore.insert(e),this.getCurrentStorageSize()>=this._purgeStrategy.getMaxStorageInBytes()&&this._purgeStrategy.onStorageLimitExceeded(this),this.drain(!1))}},{key:"insertObject",value:function(e){if(null===e)throw new Error("Cannot insert null");var t=new i.default(e);this.insert(t)}},{key:"start",value:function(){var e=this;!1===this._isTimerStarted?(this._isTimerStarted=!0,this._timerTask=new c.default(this),this._timerTaskId=setInterval(function(){e._timerTask.sendItemsInQueue()},this._timeBetweenDispatch)):console.log("Timer task has already been started")}},{key:"stop",value:function(){!0===this._isTimerStarted?(this._isTimerStarted=!1,clearInterval(this._timerTaskId)):console.log("Timer task has already been stopped")}},{key:"getCurrentStorageSize",value:function(){return this._itemStore.getCurrentStorageSize()}},{key:"buildNetworkRequest",value:function(e,t,n,r,o,i){var u=new f.default;try{var a=e.transform(o,r,i);u.setUrl(n),u.setMethod(t),u.setPayload(a.getBody()),u.setQueryParams(a.getQueryParams()),u.setHeaders(a.getHeaders())}catch(e){console.error("Error building network request",e)}return u}},{key:"drain",value:function(e){this.retryRequest(),null===e&&(e=!0);var t=this._collector.collect(this._itemStore,this._configuration,e);if(0!==t.length){var n=[];t.forEach(function(e){n.push({object:e.getDataBlob(),timestamp:e.getTimestamp()})});var r=this.buildNetworkRequest(this._transformer,this._method,this._url,this._queryParams,this._headers,n);r.setDispatchInProgress(!0),this._itemStore.deleteItems(t),this._itemStore.insertNetworkRequest(r),this._dispatcher.dispatch(r)}}},{key:"retryRequest",value:function(){this._itemStore.getNetworkRequestNotInProgress(2).forEach(function(e){var t=new f.default(e.url,e.method,e.data,e.headers,e.params);if(t.setRetryCount(e._retryCount),t.setId(e._id),this._retryStrategy&&this._retryStrategy.maxRetryCountExceeded(t))this._purgeStrategy.onRetryCountExceeded(this,t),this._itemQueueCallback&&"function"==typeof this._itemQueueCallback.onError&&this._itemQueueCallback.onError(this,t,Error("Retry count exceeded"));else{var n=t.getRetryCount()+1;t.setRetryCount(n),this._dispatcher.dispatch(t)}},this)}},{key:"_purgeAll",value:function(){this._itemStore.purgeAll()}},{key:"setMethod",value:function(e){if(null===e||"string"!=typeof e)throw new Error("Please give a valid HTTP method");this._method=e}},{key:"getMethod",value:function(){return this._method}},{key:"setUrl",value:function(e){if(null===e||"string"!=typeof e)throw new Error("Please give a valid url");this._url=e}},{key:"getUrl",value:function(){return this._url}},{key:"setHeaders",value:function(e){if(null===e||"object"!==(void 0===e?"undefined":r(e))||!0===Array.isArray(e))throw new Error("Please give valid HTTP headers");this._headers=e}},{key:"getHeaders",value:function(){return this._headers}},{key:"setQueryParams",value:function(e){if(null===e||"object"!==(void 0===e?"undefined":r(e))||!0===Array.isArray(e))throw new Error("Please use valid query parameters");this._queryParams=e}},{key:"getQueryParams",value:function(){return this._queryParams}},{key:"setTransformer",value:function(e){this._transformer=e}},{key:"getTransformer",value:function(){return this._transformer}},{key:"_getDispatcher",value:function(){return this._dispatcher}},{key:"_getItemStore",value:function(){return this._itemStore}},{key:"getItemQueueCallback",value:function(){return this._itemQueueCallback}},{key:"setItemQueueCallback",value:function(e){this._itemQueueCallback=e}},{key:"dispatchInitiated",value:function(e,t){this._itemQueueCallback&&"function"==typeof this._itemQueueCallback.onPrepareNetworkRequest&&this._itemQueueCallback.onPrepareNetworkRequest(this,t),this.updateNetworkRequestDispatchStatus(t,!0)}},{key:"dispatchSuccess",value:function(e,t,n){this._itemStore.deleteNetworkRequest(t),this._itemQueueCallback&&"function"==typeof this._itemQueueCallback.onSuccess&&this._itemQueueCallback.onSuccess(this,t)}},{key:"dispatchFailed",value:function(e,t,n){this.updateNetworkRequestDispatchStatus(t,!1);try{this._retryStrategy.onSendFailed(this,t,n)}catch(n){this._itemQueueCallback&&"function"==typeof this._itemQueueCallback.onError&&this._itemQueueCallback.onError(this,t,n)}this._itemQueueCallback&&"function"==typeof this._itemQueueCallback.onError&&this._itemQueueCallback.onError(this,t,n)}},{key:"updateNetworkRequestDispatchStatus",value:function(e,t){e.setDispatchInProgress(t),this._itemStore.updateNetworkRequest(e)}}]),t}();t.default=v},function(e,t,n){var r=n(76),o=n(75);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var u=(e=e||{}).random||(e.rng||r)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,t)for(var a=0;a<16;++a)t[i+a]=u[a];return t||o(u)}},function(e,t,n){var r=n(18);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(114),o=n(89)(function(e,t,n){r(e,t,n)});e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}o(n(0)),o(n(4));var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"onPrepareNetworkRequest",value:function(e,t){}},{key:"onSuccess",value:function(e,t){}},{key:"onError",value:function(e,t,n){}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultRetryStrategy=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}o(n(0)),o(n(4)),t.DefaultRetryStrategy=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._maxRetryCount=t.getMaxRetries(),this._requestTimeout=t.getRequestTimeout()}return r(e,[{key:"setMaxRetryCount",value:function(e){if(e<0||null===e||"number"!=typeof e)throw new Error("Use valid integer for max retry count");this._maxRetryCount=e}},{key:"getMaxRetryCount",value:function(){return this._maxRetryCount}},{key:"setRequestTimeout",value:function(e){if(e<0||null===e||"number"!=typeof e)throw new Error("Use valid integer for max timeout");this._requestTimeout=e}},{key:"getRequestTimeout",value:function(){return this._requestTimeout}},{key:"maxRetryCountExceeded",value:function(e){return!!e&&e.getRetryCount()>=this.getMaxRetryCount()}},{key:"onSendFailed",value:function(e,t,n){t.setDispatchInProgress(!1),e._getItemStore().updateNetworkRequest(t)}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(57));n(55);var i=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}u(n(21));var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._retryStrategy=t||new i.default,this._dispatcherCallback=null}return r(e,[{key:"setCallback",value:function(e){this._dispatcherCallback=e}},{key:"transmitNetworkRequest",value:function(e){return new Promise(function(t,n){(0,o.default)(e.getUrl(!0),{body:e.getPayload(),cache:"no-cache",credentials:"include",headers:e.getHeaders(),method:"POST",mode:"cors",redirect:"error",referrer:"no-referrer"}).then(function(e){if(!1===e.ok)throw new Error("HTTP Bad Response:"+JSON.stringify(e));t(e)}).catch(function(e){n(e)})})}},{key:"dispatch",value:function(e){var t=this;if(null!==e)return this._dispatcherCallback&&this._dispatcherCallback.dispatchInitiated(this,e),this.transmitNetworkRequest(e).then(function(n){t._dispatcherCallback.dispatchSuccess(t,e,n)}).catch(function(n){t._dispatcherCallback.dispatchFailed(t,e,n)})}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(5);(r=i)&&r.__esModule;var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=void 0,this._timestamp=n||(new Date).getTime(),this._dataBlob=t||""}return o(e,[{key:"setDataBlob",value:function(e){this._dataBlob=e}},{key:"getDataBlob",value:function(){return this._dataBlob}},{key:"setId",value:function(e){if("string"!=typeof e||""===e||null===e)throw new Error("Must use valid ID format");this._id=e}},{key:"getId",value:function(){return this._id}},{key:"setTimestamp",value:function(e){if(null===e||"number"!=typeof e)throw new Error("Must use valid timestamp");this._timestamp=e}},{key:"getTimestamp",value:function(){return this._timestamp}}]),e}();t.default=u},function(e,t,n){var r;void 0===(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOption=function(e,t,n){var r=n&&n.hasOwnProperty(e)?n[e]:void 0;return t&&t.hasOwnProperty(e)?t[e]:r}}.apply(t,[t]))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error",FATAL:"fatal"}}.apply(t,[t]))||(e.exports=r)},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(108);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=2e3,u=1048576,a=3,s=3e3,l=3e4,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._itemStoreIdentifier=t&&t.itemStoreIdentifier?t.itemStoreIdentifier:"RTDefault",this._maxRetries=t&&t.maxRetries?t.maxRetries:a,this._maxItemQueueSize=t&&t.maxItemQueueSize?t.maxItemQueueSize:i,this._interval=t&&t.interval?t.interval:l,this._maxBytesQuota=t&&t.maxBytesQuota?t.maxBytesQuota:u,this._retryStrategy=t&&t.retryStrategy?t.retryStrategy:"DefaultRetryStrategy",this._purgeStrategy=t&&t.purgeStrategy?t.purgeStrategy:"Purge",this._requestTimeout=t&&t.requestTimeout?t.requestTimeout:s,this._url=t&&t.url?t.url:"localhost",this._method=t&&t.method?t.method:"post",this._headers=t&&t.headers?t.headers:{},this._queryParams=t&&t.queryParams?t.queryParams:{},this.OVERRIDE_LIMIT_ENFORCED=!1,this.minimumMaxItemQueueSize=64,this.minimumMaxBytesQuota=102400,this.minimumMaxRetryCount=2,this.minimumRequestTimeout=1e3,this.minimumInterval=1e4}return o(e,[{key:"setItemStoreIdentifier",value:function(e){if("string"!=typeof e||null===e)throw"Please use a valid string for queue name";this._itemStoreIdentifier=e}},{key:"getItemStoreIdentifier",value:function(){return this._itemStoreIdentifier}},{key:"setMaxItemQueueSize",value:function(e){if(e<1||null===e)throw"Maximum item queue size should be at the minimum 1.";!0===this.OVERRIDE_LIMIT_ENFORCED?this._maxItemQueueSize=e:e<this.minimumMaxItemQueueSize?(console.error("This value is less than the recommended size of "+this.minimumMaxItemQueueSize+" events. Setting to default value "+i+"."),this._maxItemQueueSize=i):this._maxItemQueueSize=e}},{key:"getMaxItemQueueSize",value:function(){return this._maxItemQueueSize}},{key:"setRequestTimeout",value:function(e){if(e<1||null===e)throw"Maximum retry timeout should be at the minimum 1ms.";!0===this.OVERRIDE_LIMIT_ENFORCED?this._requestTimeout=e:e<this.minimumRequestTimeout?(console.error("This value is less than the recommended time of "+this.minimumRequestTimeout+". Setting to default value "+s+"."),this._requestTimeout=s):this._requestTimeout=e}},{key:"getRequestTimeout",value:function(){return this._requestTimeout}},{key:"setInterval",value:function(e){if(e<1||null===e)throw"Time interval should be at the minimum 1ms.";!0===this.OVERRIDE_LIMIT_ENFORCED?this._interval=e:e<this.minimumInterval?(console.error("This value is less than the recommended time of "+this.minimumInterval+". Setting to default value "+l+"."),this._interval=l):this._interval=e}},{key:"getInterval",value:function(){return this._interval}},{key:"setMaxRetries",value:function(e){if(e<0||null===e)throw"Maximum retries should be at the minimum 0.";!0===this.OVERRIDE_LIMIT_ENFORCED?this._maxRetries=e:e<this.minimumMaxRetryCount?(console.error("This value is less than the recommended retries of "+this.minimumMaxRetryCount+". Setting to default value "+a+"."),this._maxRetries=a):this._maxRetries=e}},{key:"getMaxRetries",value:function(){return this._maxRetries}},{key:"setMaxBytesQuota",value:function(e){if(e<0||null===e)throw"Maximum bytes quota should be at the minimum 0.";!0===this.OVERRIDE_LIMIT_ENFORCED?this._maxBytesQuota=e:e<this.minimumMaxBytesQuota?(console.error("This value is less than the recommended bytes quota of "+this.minimumMaxBytesQuota+". Setting to default value "+u+"."),this._maxBytesQuota=u):this._maxBytesQuota=e}},{key:"getMaxBytesQuota",value:function(){return this._maxBytesQuota}},{key:"setPurgeStrategy",value:function(e){this._purgeStrategy=e}},{key:"getPurgeStrategy",value:function(){return this._purgeStrategy}},{key:"setRetryStrategy",value:function(e){this._retryStrategy=e}},{key:"getRetryStrategy",value:function(){return this._retryStrategy}},{key:"setUrl",value:function(e){if(null===e||"string"!=typeof e||""===e)throw"Please use a valid URL";this._url=e}},{key:"getUrl",value:function(){return this._url}},{key:"setMethod",value:function(e){if(null===e||"string"!=typeof e||""===e)throw"Please use a valid HTTP method";this._method=e}},{key:"getMethod",value:function(){return this._method}},{key:"setHeaders",value:function(e){if(null===e||"object"!==(void 0===e?"undefined":r(e))||!0===Array.isArray(e))throw"Please use valid headers";this._headers=e}},{key:"getHeaders",value:function(){return this._headers}},{key:"setQueryParams",value:function(e){if(null===e||"object"!==(void 0===e?"undefined":r(e))||!0===Array.isArray(e))throw"Please use valid query params";this._queryParams=e}},{key:"getQueryParams",value:function(){return this._queryParams}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._itemQueue=t}return r(e,[{key:"sendItemsInQueue",value:function(){return this._itemQueue.drain(!0)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}o(n(10)),o(n(8)),o(n(0));var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._itemQueueCallback=null}return r(e,[{key:"setCallback",value:function(e){this._itemQueueCallback=e}},{key:"dispatchSuccess",value:function(e,t,n){}},{key:"dispatchFailed",value:function(e,t,n){}},{key:"dispatchInitiated",value:function(e,t){}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(24);(r=i)&&r.__esModule;var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"collect",value:function(e,t,n){return n||e.getOverallItemCount()>=t.getMaxItemQueueSize()?e.getAllItems(t.getMaxItemQueueSize()):[]}}]),e}();t.default=u},function(e,t,n){var r=n(15)(Object.keys,Object);e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(74)),u=a(n(11));function a(e){return e&&e.__esModule?e:{default:e}}a(n(0));var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._storeName=t,this._storage=this._createDB(t),this._networkRequestStorage=this._createDB(t+"NetworkRequestStorage")}return o(e,[{key:"_createDB",value:function(e){return new i.default(e)}},{key:"insert",value:function(e){var t=this._storage.insertItem({item:e.getDataBlob(),timestamp:e.getTimestamp()});e.setId(t)}},{key:"getItems",value:function(){return this.getAllItems().slice(0,this.itemQueueSize)}},{key:"getAllItems",value:function(e){var t=this._storage.getAllItems(),n=[];return Object.keys(t).forEach(function(e){var r=new u.default(t[e].item,t[e].timestamp);r.setId(e),n.push(r)}),e?n.slice(0,e):n}},{key:"getOverallItemCount",value:function(){return Object.keys(this._storage._items).length}},{key:"deleteItemById",value:function(e){return this._storage.removeItem(e.getId())}},{key:"deleteItems",value:function(e){var t=this,n=0;return e.forEach(function(e){n+=t._storage.removeItem(e.getId())}),n}},{key:"deleteItemsOlderThan",value:function(e){var t=this,n=this._storage.getAllItems(),r=0;return Object.keys(n).forEach(function(o){n[o].timestamp<e.getTimestamp()&&(r+=t._storage.removeItem(o))}),r}},{key:"deleteOldestItem",value:function(){var e=this.getAllItems(),t=e[0];e.forEach(function(e){e.getTimestamp()<t.getTimestamp()&&(t=e)}),this.deleteItemById(t)}},{key:"insertNetworkRequest",value:function(e){var t=this._networkRequestStorage.insertItem(e);e.setId(t)}},{key:"deleteNetworkRequest",value:function(e){return this._networkRequestStorage.removeItem(e.getId())}},{key:"updateNetworkRequest",value:function(e){this._networkRequestStorage.updateItem(e.getId(),e)}},{key:"getNetworkRequest",value:function(e){var t=this._networkRequestStorage.getAllItems(),n=[];return Object.keys(t).forEach(function(e){n.push(t[e])}),e?n.slice(0,e):n}},{key:"getNetworkRequestNotInProgress",value:function(e){return this.getNetworkRequest(e).filter(function(e){return 1!=e._dispatchInProgress})}},{key:"purgeAll",value:function(){this._storage._reset(),this._networkRequestStorage._reset()}},{key:"getCurrentStorageSize",value:function(){var e=[],t=function t(n){var o=0;if("boolean"==typeof n)o=4;else if("string"==typeof n)o+=2*n.length;else if("number"==typeof n)o=8;else if("object"===(void 0===n?"undefined":r(n))&&-1===e.indexOf(n))for(var i in e[e.length]=n,n)o+=8,o+=t(n[i]);return o};return t(this._storage)+t(this._networkRequestStorage)}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultPurgeStrategy=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}o(n(0)),o(n(4)),o(n(19)),t.DefaultPurgeStrategy=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._maxStorageInBytes=t.getMaxBytesQuota()}return r(e,[{key:"setMaxStorageInBytes",value:function(e){if(e<0||null===e||"number"!=typeof e)throw new Error("Use valid integer for byte maximum of storage");this._maxStorageInBytes=e}},{key:"getMaxStorageInBytes",value:function(){return this._maxStorageInBytes}},{key:"onRetryCountExceeded",value:function(e,t){e._getItemStore().deleteNetworkRequest(t)}},{key:"onStorageLimitExceeded",value:function(e){e._getItemStore().deleteOldestItem()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignCI=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n||n.length<1)return e;var o={};for(var i in e)o[i.toLowerCase()]=i;for(var u=0;u<n.length;u++)for(var a in n[u]){var s=a,l=a.toLowerCase();o.hasOwnProperty(l)?s=o[l]:o[l]=a,e[s]=n[u][a]}return e},t.paramsToQueryString=function(e){return Object.keys(e).map(function(t){var n=null===e[t]?"":e[t];return encodeURIComponent(t)+"="+encodeURIComponent(n)}).join("&")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"formatPostBody",value:function(e){return JSON.stringify(e)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._headers=t,this._queryParams=n,this._body=r}return r(e,[{key:"getHeaders",value:function(){return this._headers}},{key:"setHeaders",value:function(e){this._headers=e}},{key:"getQueryParams",value:function(){return this._queryParams}},{key:"setQueryParams",value:function(e){this._queryParams=e}},{key:"getBody",value:function(){return this._body}},{key:"setBody",value:function(e){this._body=e}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(28)),i=a(n(27)),u=n(26);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._queryParams={},this._contentType="application/json",this._headers={"Content-Type":this._contentType},this._JSONPostBodyEncoder=new i.default}return r(e,[{key:"setHeaders",value:function(e){this._headers=e}},{key:"getHeaders",value:function(){return this._headers}},{key:"setQueryParams",value:function(e){this._queryParams=e}},{key:"getQueryParams",value:function(){return this._queryParams}},{key:"setContentType",value:function(e){if(null===e)throw new Error("Cannot set MIME type to null");this._contentType=e}},{key:"getContentType",value:function(){return this._contentType}},{key:"formatPostBody",value:function(e){return this._JSONPostBodyEncoder.formatPostBody(e)}},{key:"transform",value:function(e,t,n){if(null===n)throw new Error("List of items cannot be null");var r;return this._headers=(0,u.assignCI)(this._headers,e),this._queryParams=(0,u.assignCI)(this._queryParams,t),r=this.formatPostBody(n),new o.default(this._headers,this._queryParams,r)}}]),e}();t.default=s},function(e,t,n){"use strict";var r=v(n(29)),o=v(n(25)),i=v(n(9)),u=v(n(10)),a=v(n(22)),s=v(n(19)),l=v(n(4)),c=v(n(11)),f=v(n(28)),h=v(n(8)),p=v(n(20)),d=v(n(27)),y=v(n(0));function v(e){return e&&e.__esModule?e:{default:e}}e.exports={BaseHTTPTransformer:r.default,DefaultPurgeStrategy:o.default,DefaultRetryStrategy:i.default,DefaultDispatcher:u.default,DefaultCollector:a.default,RTConfiguration:s.default,ItemQueue:l.default,Item:c.default,ItemQueueCallback:h.default,HTTPTransformResult:f.default,DispatchTimerTask:p.default,JSONPostBodyEncoder:d.default,NetworkRequest:y.default}},function(e,t,n){var r,o;r=[t,n(7),n(5)],void 0===(o=function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(t),o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n,r,i,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.component=u.component,this.appId=u.appId,this.timestamp=(new Date).getTime(),this.level=n,this.env=u.env,this.transactionId=(0,o.default)(),this.annotation={message:t||""},this._initLogMessage(r,i)}return u(e,[{key:"_initLogMessage",value:function(e,t){if(null!==e){var n=this._getExceptionText(e,e.constructor.name),o=this._formatExceptionObj(e,n,e.constructor.name);this.annotation.exception=o}null!==t&&(this.annotation=(0,r.default)({},t,this.annotation))}},{key:"_getExceptionText",value:function(e,t){return e&&e.message&&e.stack?"message="+e.message+"; stack="+e.stack:e&&"Error"===t?"message="+e.toString():""}},{key:"_formatExceptionObj",value:function(e,t,n){var r={};return r.type="Error"===n?"error":"exception",r.text=t,r}}]),e}();e.default=a}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[t,n(7),n(34),n(31),n(30),n(52),n(33)],void 0===(o=function(e,t,n,r,o,i,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=p(t),s=p(n),l=p(r),c=p(o),f=p(i),h=p(u);function p(e){return e&&e.__esModule?e:{default:e}}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);try{this._configuration=t||{},this._providerProps=s.default.getProviderProps(t),this._RTSettings=s.default.getRTSettings(t),this._providerName=t.providerName,this._component=t.component,this._appId=t.appId,this._env=t.env,this._RTConfig=new c.default.RTConfiguration,this._RTConfig.setHeaders((0,a.default)({},this._RTConfig.getHeaders(),{"-X-APPID":this._appId})),this._endpoint=s.default.getEndpointUrl(this._configuration.endpoint),this._initReliableTransmission(),this._filter=new h.default(this._configuration.filtering),this._logInBand=!1}catch(e){console.error("Error in "+this._providerName+": ",e)}}return y(e,[{key:"_initReliableTransmission",value:function(){null!==this._RTSettings&&(void 0!==this._RTSettings.overrideLimitEnforcement&&(this._RTConfig.OVERRIDE_LIMIT_ENFORCED=this._RTSettings.overrideLimitEnforcement),this._RTSettings.maxItems&&this._RTConfig.setMaxItemQueueSize(this._RTSettings.maxItems),this._RTSettings.interval&&this._RTConfig.setInterval(this._RTSettings.interval),this._RTSettings.maxRetries&&this._RTConfig.setMaxRetries(this._RTSettings.maxRetries),this._RTSettings.maxBytesQuota&&this._RTConfig.setMaxBytesQuota(this._RTSettings.maxBytesQuota),this._RTSettings.requestTimeout&&this._RTConfig.setRequestTimeout(this._RTSettings.requestTimeout),this._RTSettings.retryStrategy&&this._RTConfig.setRetryStrategy(this._RTSettings.retryStrategy),this._RTSettings.purgeStrategy&&this._RTConfig.setPurgeStrategy(this._RTSettings.purgeStrategy)),this._RTConfig.setHeaders((0,a.default)({},this._RTConfig.getHeaders(),this._configuration.endpoint.headers)||{}),this._RTConfig.setQueryParams(this._configuration.endpoint.query||{}),this._RTConfig.setItemStoreIdentifier(this._providerName+"Logging"),this._RTConfig.setMethod("post"),this._RTConfig.setUrl(this._endpoint),this._itemQueue=new c.default.ItemQueue(this._RTConfig),this._itemQueue.setTransformer(new f.default)}},{key:"log",value:function(e,t,n,r,o){null===e&&(e="");var i=s.default.mergeProps(n,r,this._providerProps,t),u=new l.default(e,t,o,i,{component:this._component,appId:this._appId,env:this._env});if(this._filter.apply(u)&&this._itemQueue.insertObject(u),this.logInBand&&this._filter.shouldSendInBandLogStats()){var a=new l.default("filter stats","info",null,this._filter.getStatsJSON(),{component:this._component,appId:this._appId,env:this._env});this._itemQueue.insertObject(a)}}},{key:"setEndpoint",value:function(e){var t=this._configuration.endpoint;if("object"===(void 0===e?"undefined":d(e)))for(var n in e)t[n]&&(t[n]=e[n]);else if("string"==typeof e){var r=s.default.parseURL(e);for(var o in r)t[o]&&(t[o]=r[o])}this._configuration.endpoint=t}},{key:"notifyTransmitStatus",value:function(e){this._itemQueue._dispatcher.setCallback(e)}},{key:"filter",get:function(){return this._filter},set:function(e){this._filter=e}},{key:"logInBand",get:function(){return this._logInBand},set:function(e){this._logInBand=e}}]),e}();e.default=v}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[t,n(1),n(80),n(79),n(78),n(77)],void 0===(o=function(e,t,n,r,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=f(t),a=f(n),s=f(r),l=f(o),c=f(i);function f(e){return e&&e.__esModule?e:{default:e}}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(e&&e.filters&&Array.isArray(e.filters)&&!n){n=[];for(var o=0;o<e.filters.length;o++)if(e.filters[o].hasOwnProperty("type")){var i=e.filters[o];if(e&&e.stats&&"object"===h(e.stats))for(var u in e.stats)i[u]=e.stats[u];var a=t.createFilter(e.filters[o].type,i,r._statsStore);n.push(a)}}return r._filters=n||[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),p(t,[{key:"filters",get:function(){return this._filters},set:function(e){this._filters=e}}],[{key:"createFilter",value:function(e,t,n){var r=null;switch(e){case"levelFilter":r=new c.default(t,n);break;case"regexFilter":r=new l.default(t,n);break;case"equalProbabilitySampler":r=new a.default(t,n);break;case"systematicSampler":r=new s.default(t,n);break;default:r=new u.default(t,n)}return r}}]),p(t,[{key:"shouldSendInBandLogStats",value:function(){return this._filters.length>0&&this._statsStore.messageCount%this.logInBandModulus==0}},{key:"appendFilter",value:function(e){this.filters.push(e)}},{key:"filter",value:function(e){for(var t=this._filters.length,n=!1,r=0;r<t;r++)n=n||this._filters[r].filter(e);return!(r>0)||n}}]),t}();e.default=d}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[t,n(7)],void 0===(o=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=t)&&n.__esModule?n:{default:n},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){var n=443==t&&("https"===e||"https:"===e)||80==t&&("http"===e||"http:"===e)||null===t||""===t?"":""+t,r=parseInt(n,10);return(isNaN(r)||t<=0||t>=65535||Math.floor(r)!=t)&&(n=""),n}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"mergeProps",value:function(e,t,n,o){return e||(e={}),n||(n={}),t||(t={}),(0,r.default)({},e,n,t)}},{key:"getProviderProps",value:function(e){var t={},n=e.addProps;return n&&(t=n),t}},{key:"getRTSettings",value:function(e){var t=null,n=e.reliableTransmission;return n&&(t=n),t}},{key:"parseURL",value:function(e){var t=null;if(window&&window.URL&&"function"==typeof window.URL)t=new window.URL(e);else{var n=e.split("#"),r=n[0].split("?"),o=r.length>1?r[1]:"";if(!((n=(n=r[0]).split("/")).length>=3))throw"LoggingProviderUtils.parseURL Error: url "+e+" appears malformed";var u=n[2],a=u.split(":"),s=a[0],l=n[0],c=i(l,a.length>1?a[1]:"");""===c&&(u=s);var f=n.slice(3).join("/");t={host:u,hostname:s,protocol:l,port:c,search:o?"?"+o:"",pathname:"/"+f}}var h={host:t.hostname,protocol:t.protocol.replace(/[^a-zA-Z]/g,""),pathname:t.pathname};return""!==t.port&&(h.port=t.port),h}},{key:"formatURL",value:function(e){var t=i(e.protocol,e.port),n=e.pathname,r="";return t&&(r=":"+t),n&&"string"==typeof n&&n.length>0&&"/"!==n[0]&&(n="/"+n),e.protocol+"://"+e.hostname+r+n}},{key:"getEndpointUrl",value:function(t){return e.formatURL({protocol:t.protocol||"http",hostname:t.host||"",port:t.port,pathname:t.basepath||""})}}]),e}();e.default=u}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[t,n(13),n(34),n(33)],void 0===(o=function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(t),i=a(n),u=a(r);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._configuration=t||{},this._providerProps=i.default.getProviderProps(t),this._setupLogger(),this._filter=new u.default(this._providerProps.filters)}return s(e,[{key:"_setupLogger",value:function(){this._logger={log:function(e,t,n){console.log&&(null!==n&&c(t)?console.log(e,t,n):c(t)?console.log(e,t):console.log(e))},debug:function(e,t,n){console.debug&&(null!==n&&c(t)?console.log(e,t,n):c(t)?console.log(e,t):console.log(e))},warn:function(e,t,n){console.warn&&(null!==n&&c(t)?console.warn(e,t,n):c(t)?console.warn(e,t):console.warn(e))},error:function(e,t,n){console.error&&(null!==n&&c(t)?console.error(e,t,n):c(t)?console.error(e,t):console.error(e))}}}},{key:"log",value:function(e,t,n,r,o){this._log(t,e,n,r,o)}},{key:"_log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],r=arguments[3],u=arguments[4];if("undefined"==typeof window||window.console){var a=i.default.mergeProps(n,r,this._providerProps,e);if(this._filter.apply({message:t,level:e}))switch(e){case o.default.INFO:this._logger.log(t,a,u);break;case o.default.DEBUG:this._logger.debug(t,a,u);break;case o.default.WARN:this._logger.warn(t,a,u);break;case o.default.ERROR:case o.default.FATAL:this._logger.error(t,a,u)}}}}]),e}();function c(e){return e&&void 0!==e&&Object.keys(e).length>0}e.default=l}.apply(t,r))||(e.exports=o)},function(e,t,n){var r=n(17),o=n(18),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var u=e[t];i.call(e,t)&&o(u,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t){e.exports=function(e,t){if("__proto__"!=t)return e[t]}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(40),o=n(3);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(15)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(98),o=n(43),i=n(97);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(102),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){(function(e){var r=n(46),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,u=i&&i.exports===o?r.Buffer:void 0,a=u?u.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(103)(e))},function(e,t,n){var r=n(17),o=n(18);e.exports=function(e,t,n){(void 0===n||o(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(113),o=n(112),i=n(111),u=n(110),a=n(109);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=u,s.prototype.set=a,e.exports=s},function(e,t,n){var r;void 0===(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hashCode=function(e){var t=0,n=e.length,r=0;if(n>0)for(;r<n;)t=(t<<5)-t+e.charCodeAt(r++)|0;return t}}.apply(t,[t]))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){return!0}}.apply(t,[t]))||(e.exports=r)},function(e,t,n){var r,o;r=[t,n(30),n(5)],void 0===(o=function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=(r=n)&&r.__esModule?r:{default:r},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t.BaseHTTPTransformer),i(n,[{key:"transform",value:function(e,t,r){return e||(e={}),this.addHeaders(e),function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;return void 0!==u?u.call(r):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"transform",this).call(this,e,t,r)}},{key:"formatPostBody",value:function(e){var t=[];e.forEach(function(e){t.push(e.object)});for(var n=encodeURIComponent(JSON.stringify(t)).split(""),r=[],o=0;o<n.length;o++)"%"===n[o]?(r.push(parseInt(n[o+1]+n[o+2],16)),o+=2):r.push(n[o].charCodeAt(0));return new Uint8Array(r)}},{key:"addHeaders",value:function(e){var t=(0,o.default)();e["-X-INTUIT_TID"]=t,e.intuit_tid=t}}]),n}();e.default=u}.apply(t,r))||(e.exports=o)},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var s,l=[],c=!1,f=-1;function h(){c&&s&&(c=!1,s.length?l=s.concat(l):f=-1,l.length&&p())}function p(){if(!c){var e=a(h);c=!0;for(var t=l.length;t;){for(s=l,l=[];++f<t;)s&&s[f].run();f=-1,t=l.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new d(e,t)),1!==l.length||c||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){(function(t,n){var r;r=function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,i=void 0,u=void 0,a=function(e,t){d[o]=e,d[o+1]=t,2===(o+=2)&&(u?u(y):b())},s="undefined"!=typeof window?window:void 0,l=s||{},c=l.MutationObserver||l.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(y,1)}}var d=new Array(1e3);function y(){for(var e=0;e<o;e+=2)(0,d[e])(d[e+1]),d[e]=void 0,d[e+1]=void 0;o=0}var v,g,m,_,b=void 0;function w(e,t){var n=this,r=new this.constructor(P);void 0===r[S]&&q(r);var o=n._state;if(o){var i=arguments[o-1];a(function(){return D(o,r,i,n._result)})}else L(n,r,e,t);return r}function k(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(P);return E(t,e),t}f?b=function(){return t.nextTick(y)}:c?(g=0,m=new c(y),_=document.createTextNode(""),m.observe(_,{characterData:!0}),b=function(){_.data=g=++g%2}):h?((v=new MessageChannel).port1.onmessage=y,b=function(){return v.port2.postMessage(0)}):b=void 0===s?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(y)}:p()}catch(e){return p()}}():p();var S=Math.random().toString(36).substring(2);function P(){}var O=void 0,x=1,T=2,I={error:null};function j(e){try{return e.then}catch(e){return I.error=e,I}}function C(t,n,r){n.constructor===t.constructor&&r===w&&n.constructor.resolve===k?function(e,t){t._state===x?M(e,t._result):t._state===T?A(e,t._result):L(t,void 0,function(t){return E(e,t)},function(t){return A(e,t)})}(t,n):r===I?(A(t,I.error),I.error=null):void 0===r?M(t,n):e(r)?function(e,t,n){a(function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?E(e,n):M(e,n))},function(t){r||(r=!0,A(e,t))},e._label);!r&&o&&(r=!0,A(e,o))},e)}(t,n,r):M(t,n)}function E(e,t){var n,r;e===t?A(e,new TypeError("You cannot resolve a promise with itself")):(r=typeof(n=t),null===n||"object"!==r&&"function"!==r?M(e,t):C(e,t,j(t)))}function R(e){e._onerror&&e._onerror(e._result),B(e)}function M(e,t){e._state===O&&(e._result=t,e._state=x,0!==e._subscribers.length&&a(B,e))}function A(e,t){e._state===O&&(e._state=T,e._result=t,a(R,e))}function L(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+x]=n,o[i+T]=r,0===i&&e._state&&a(B,e)}function B(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,u=0;u<t.length;u+=3)r=t[u],o=t[u+n],r?D(n,r,o,i):o(i);e._subscribers.length=0}}function D(t,n,r,o){var i=e(r),u=void 0,a=void 0,s=void 0,l=void 0;if(i){if((u=function(e,t){try{return e(t)}catch(e){return I.error=e,I}}(r,o))===I?(l=!0,a=u.error,u.error=null):s=!0,n===u)return void A(n,new TypeError("A promises callback cannot return that same promise."))}else u=o,s=!0;n._state!==O||(i&&s?E(n,u):l?A(n,a):t===x?M(n,u):t===T&&A(n,u))}var Q=0;function q(e){e[S]=Q++,e._state=void 0,e._result=void 0,e._subscribers=[]}var N=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(P),this.promise[S]||q(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?M(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&M(this.promise,this._result))):A(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===O&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===k){var o=j(e);if(o===w&&e._state!==O)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===U){var i=new n(P);C(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===O&&(this._remaining--,e===T?A(r,n):this._result[t]=n),0===this._remaining&&M(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;L(e,void 0,function(e){return n._settledAt(x,t,e)},function(e){return n._settledAt(T,t,e)})},e}(),U=function(){function t(e){this[S]=Q++,this._result=this._state=void 0,this._subscribers=[],P!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){E(e,t)},function(t){A(e,t)})}catch(t){A(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return U.prototype.then=w,U.all=function(e){return new N(this,e).promise},U.race=function(e){var t=this;return r(e)?new t(function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},U.resolve=k,U.reject=function(e){var t=new this(P);return A(t,e),t},U._setScheduler=function(e){u=e},U._setAsap=function(e){a=e},U._asap=a,U.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=U},U.Promise=U,U},e.exports=r()}).call(this,n(53),n(16))},function(e,t,n){"use strict";e.exports=n(54).polyfill()},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",function(){return l}),n.d(t,"Request",function(){return v}),n.d(t,"Response",function(){return m}),n.d(t,"DOMException",function(){return b}),n.d(t,"fetch",function(){return w});var r={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(r.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function s(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function h(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():r.arrayBuffer&&r.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,n,r=c(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=f(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=u(e),t=a(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},l.prototype.delete=function(e){delete this.map[u(e)]},l.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},l.prototype.set=function(e,t){this.map[u(e)]=a(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),s(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),s(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),s(e)},r.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n,r,o=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function g(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function m(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},d.call(v.prototype),d.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];m.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})};var b=self.DOMException;try{new b}catch(e){(b=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),b.prototype.constructor=b}function w(e,t){return new Promise(function(n,o){var i=new v(e,t);if(i.signal&&i.signal.aborted)return o(new b("Aborted","AbortError"));var u=new XMLHttpRequest;function a(){u.abort()}u.onload=function(){var e,t,r={status:u.status,statusText:u.statusText,headers:(e=u.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t)};r.url="responseURL"in u?u.responseURL:r.headers.get("X-Request-URL");var o="response"in u?u.response:u.responseText;n(new m(o,r))},u.onerror=function(){o(new TypeError("Network request failed"))},u.ontimeout=function(){o(new TypeError("Network request failed"))},u.onabort=function(){o(new b("Aborted","AbortError"))},u.open(i.method,i.url,!0),"include"===i.credentials?u.withCredentials=!0:"omit"===i.credentials&&(u.withCredentials=!1),"responseType"in u&&r.blob&&(u.responseType="blob"),i.headers.forEach(function(e,t){u.setRequestHeader(t,e)}),i.signal&&(i.signal.addEventListener("abort",a),u.onreadystatechange=function(){4===u.readyState&&i.signal.removeEventListener("abort",a)}),u.send(void 0===i._bodyInit?null:i._bodyInit)})}w.polyfill=!0,self.fetch||(self.fetch=w,self.Headers=l,self.Request=v,self.Response=m)},function(e,t,n){n(56),e.exports=self.fetch.bind(self)},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e){return e}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(15)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(2),o=n(65);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(2),o=n(67);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(2),o=n(14);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(2),o=n(23);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(49),o=n(71),i=n(36),u=n(70),a=n(69),s=n(47),l=n(45),c=n(68),f=n(66),h=n(64),p=n(63),d=n(62),y=n(61),v=n(60),g=n(44),m=n(42),_=n(38),b=n(59),w=n(3),k=n(58),S=n(23),P="[object Arguments]",O="[object Function]",x="[object Object]",T={};T[P]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[x]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[O]=T["[object WeakMap]"]=!1,e.exports=function e(t,n,I,j,C,E){var R,M=1&n,A=2&n,L=4&n;if(I&&(R=C?I(t,j,C,E):I(t)),void 0!==R)return R;if(!w(t))return t;var B=m(t);if(B){if(R=y(t),!M)return l(t,R)}else{var D=d(t),Q=D==O||"[object GeneratorFunction]"==D;if(_(t))return s(t,M);if(D==x||D==P||Q&&!C){if(R=A||Q?{}:g(t),!M)return A?f(t,a(R,t)):c(t,u(R,t))}else{if(!T[D])return C?t:{};R=v(t,D,M)}}E||(E=new r);var q=E.get(t);if(q)return q;if(E.set(t,R),k(t))return t.forEach(function(r){R.add(e(r,n,I,r,t,E))}),R;if(b(t))return t.forEach(function(r,o){R.set(o,e(r,n,I,o,t,E))}),R;var N=L?A?p:h:A?keysIn:S,U=B?void 0:N(t);return o(U||t,function(r,o){U&&(r=t[o=r]),i(R,o,e(r,n,I,o,t,E))}),R}},function(e,t,n){var r=n(72);e.exports=function(e){return r(e,5)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DELIMITER=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(73)),i=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var a=t.DELIMITER="_",s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._storageName=t,this._items={},this._loadFromStorage()}return r(e,[{key:"getItem",value:function(e){var t;if(t=this._items[e]?(0,o.default)(this._items[e]):null)return t}},{key:"insertItem",value:function(e){var t=""+this._storageName+a+(0,i.default)();return this._items[t]=e,localStorage&&localStorage.setItem(t,JSON.stringify(e)),t}},{key:"updateItem",value:function(e,t){if(this._items[e])return this._items[e]=t,localStorage&&localStorage.setItem(e,JSON.stringify(t)),e}},{key:"removeItem",value:function(e){if(this._items[e])return delete this._items[e],localStorage&&localStorage.removeItem(e),1}},{key:"getAllItems",value:function(){var e=this;return Object.keys(this._items).filter(function(t){return t.substring(0,(""+e._storageName+a).length)===""+e._storageName+a}).reduce(function(t,n){return t[n]=e._items[n],t},{})}},{key:"_reset",value:function(){var e=this,t=Object.keys(this._items).filter(function(t){delete e._items[t],localStorage&&localStorage.removeItem(t)});console.log("Deleted "+t.length+" items from persistent local storage. Storage is now reset.")}},{key:"_loadFromStorage",value:function(){var e=this;localStorage&&(this._items=Object.keys(localStorage).filter(function(t){return t.substring(0,(""+e._storageName+a).length)===""+e._storageName+a}).reduce(function(e,t){var n=localStorage?localStorage.getItem(t):null,r=void 0;try{r=n?JSON.parse(n):null}catch(e){console.error("storage.get(): JSON.parse error."),r=n}return e[t]=r,e},{}))}}]),e}();t.default=s},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]}},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var o=new Uint8Array(16);n=function(){return r.getRandomValues(o),o}}if(!n){var i=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=n}).call(this,n(16))},function(e,t,n){var r,o;r=[t,n(1),n(12)],void 0===(o=function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=(r=t)&&r.__esModule?r:{default:r},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return o._levels=(0,n.getOption)("levels",e,{levels:["debug","info","warn","error","fatal"]}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"filter",value:function(e){return this._levels.indexOf(e.level)>=0}}]),t}();e.default=u}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[t,n(1),n(12)],void 0===(o=function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=(r=t)&&r.__esModule?r:{default:r},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return o._regex=(0,n.getOption)("regex",e,{regex:null}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"filter",value:function(e){var t=!1;return e.annotation.message&&this._regex&&(t=this._regex.test(e.annotation.message)),t}}]),t}();e.default=u}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[t,n(1)],void 0===(o=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=t)&&n.__esModule?n:{default:n},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._counter=Math.floor(1e4*Math.random()),r._denominator=e.denominator,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"filter",value:function(e){return this._counter++%this._denominator==0}}]),t}();e.default=i}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[t,n(1)],void 0===(o=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=t)&&n.__esModule?n:{default:n},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._probability=1e3*e.probability,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"probability",get:function(){return this._probability/1e3}}]),o(t,[{key:"filter",value:function(e){return Math.round(1e3*Math.random())<this._probability}}]),t}();e.default=i}.apply(t,r))||(e.exports=o)},function(e,t,n){var r;void 0===(r=function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(n){t(this,e),this._storage="session"===n?sessionStorage:localStorage}return n(e,[{key:"_getItemAsInt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._storage.getItem(e);return null==n?t:parseInt(n,10)}},{key:"_setItem",value:function(e,t){this._storage.setItem(e,t)}},{key:"insertCount",get:function(){return this._getItemAsInt("OILLogStats.IC")},set:function(e){this._setItem("OILLogStats.IC",e)}},{key:"dropCount",get:function(){return this._getItemAsInt("OILLogStats.DC")},set:function(e){this._setItem("OILLogStats.DC",e)}},{key:"sinceTime",get:function(){return this._getItemAsInt("OILLogStats.ST",0)},set:function(e){this._setItem("OILLogStats.ST",e)}}]),e}(),o=function(){function e(){t(this,e),this._insertCount=0,this._dropCount=0,this._timestamp=(new Date).getTime()}return n(e,[{key:"insertCount",get:function(){return this._insertCount},set:function(e){this._insertCount=e}},{key:"dropCount",get:function(){return this._dropCount},set:function(e){this._dropCount=e}},{key:"sinceTime",get:function(){return this._timestamp},set:function(e){this._timestamp=e}}]),e}(),i=function(){function e(n){t(this,e),this._inMemory="in-memory"===n||"memory"===n||!n,this._inMemory?this._store=new o:"session"===n?this._store=new r("session"):"local"===n&&(this._store=new r("local"))}return n(e,[{key:"reset",value:function(){this._store.insertCount=0,this._store.dropCount=0,this._store.sinceTime=(new Date).getTime()}},{key:"insertCount",get:function(){return this._store.insertCount},set:function(e){this._store.insertCount=e}},{key:"dropCount",get:function(){return this._store.dropCount},set:function(e){this._store.dropCount=e}},{key:"messageCount",get:function(){return this._store.dropCount+this._store.insertCount}},{key:"sinceTime",set:function(e){this._store.sinceTime=e},get:function(){return this._store.sinceTime}}]),e}();e.default=i}.apply(t,[t]))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return Object.keys(e).map(function(t){return e[t]})}}.apply(t,[t]))||(e.exports=r)},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(85),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,u=-1,a=o(i.length-t,0),s=Array(a);++u<a;)s[u]=i[t+u];u=-1;for(var l=Array(t+1);++u<t;)l[u]=i[u];return l[t]=n(s),r(e,this,l)}}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(87),o=n(86),i=n(84);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t,n){var r=n(88),o=n(83);e.exports=function(e){return r(function(t,n){var r=-1,i=n.length,u=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(u=e.length>3&&"function"==typeof u?(i--,u):void 0,a&&o(n[0],n[1],a)&&(u=i<3?void 0:u,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,u)}return t})}},function(e,t,n){var r=n(2),o=n(14);e.exports=function(e){return r(e,o(e))}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(40),o=n(43),i=n(39),u=Function.prototype,a=Object.prototype,s=u.toString,l=a.hasOwnProperty,c=s.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==c}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(41),o=n(93);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(94),o=n(39);e.exports=function(e){return o(e)&&r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(3),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(46).Uint8Array;e.exports=r},function(e,t,n){var r=n(99);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(100);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(16))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(48),o=n(47),i=n(101),u=n(45),a=n(44),s=n(96),l=n(42),c=n(95),f=n(38),h=n(41),p=n(3),d=n(92),y=n(91),v=n(37),g=n(90);e.exports=function(e,t,n,m,_,b,w){var k=v(e,n),S=v(t,n),P=w.get(S);if(P)r(e,n,P);else{var O=b?b(k,S,n+"",e,t,w):void 0,x=void 0===O;if(x){var T=l(S),I=!T&&f(S),j=!T&&!I&&y(S);O=S,T||I||j?l(k)?O=k:c(k)?O=u(k):I?(x=!1,O=o(S,!0)):j?(x=!1,O=i(S,!0)):O=[]:d(S)||s(S)?(O=k,s(k)?O=g(k):p(k)&&!h(k)||(O=a(S))):x=!1}x&&(w.set(S,O),_(O,S,m,b,w),w.delete(S)),r(e,n,O)}}},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),u=r(t),a=u.length;a--;){var s=u[e?a:++o];if(!1===n(i[s],s,i))break}return t}}},function(e,t,n){var r=n(105)();e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(107),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){var r=n(6);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(6);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(6);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(6),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(49),o=n(48),i=n(106),u=n(104),a=n(3),s=n(14),l=n(37);e.exports=function e(t,n,c,f,h){t!==n&&i(n,function(i,s){if(a(i))h||(h=new r),u(t,n,s,c,e,f,h);else{var p=f?f(l(t,s),i,s+"",t,n,h):void 0;void 0===p&&(p=i),o(t,s,p)}},s)}},function(e,t,n){var r,o;r=[t,n(7),n(82),n(35),n(32),n(13),n(51),n(50)],void 0===(o=function(e,t,n,r,o,i,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=d(t),l=d(n),c=d(r),f=d(o),h=d(i),p=d(u);function d(e){return e&&e.__esModule?e:{default:e}}var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g={logging:{component:"IntuitLoggingSDK",appId:"IntuitLoggingSDK",schemaVersion:"1.3.1",levels:{atLevelAndHigher:"debug"},providers:{console:{type:"local"}}}},m={type:"remote",env:"",endpoint:{host:"",basepath:"/v1/log/message",headers:{Authorization:""}}},_=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._configuration=g,this._providers={},this._activeLevels=[],this._mergeProps={},this._isLoggingEnabled=!0,this._logDisabledPrintedAlready=!1,this._component=null,this._appId=null,this.setConfiguration()}return v(e,[{key:"setConfiguration",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!1;if(e&&this._isValidConfiguration(e,null)){if(e&&e.apiKey&&e.appId&&e.env){var n="DefaultOILRemoteProvider_"+e.env+"_"+(0,a.hashCode)(e.appId);this._configuration.logging.providers[n]=m,this._configuration.logging.providers[n].env=e.env,this._configuration.logging.providers[n].endpoint.protocol="https",this._configuration.logging.providers[n].endpoint.host="prod"===e.env?"logging.api.intuit.com":"logging-e2e.api.intuit.com",this._configuration.logging.providers[n].endpoint.headers.Authorization="Intuit_APIKey intuit_apikey="+e.apiKey+", intuit_apkey_version=1.0",this._configuration.logging.env=e.env,this._configuration.logging.appId=e.appId}else this._configuration=e;this._appId=this._configuration.logging.appId,this._component=this._configuration.logging.component,t=!0}return this._isLoggingEnabled=this._configuration.logging.enableLogging,this._buildMergeProps(),this.setActiveLevels(this._getLogLevels()),this._addProvidersFromConfiguration(this._configuration),t}},{key:"setIsLoggingEnabled",value:function(e){null===e&&"boolean"!=typeof e||(this._isLoggingEnabled=e)}},{key:"getRuntimeProps",value:function(){return this._mergeProps}},{key:"setRuntimeProps",value:function(e){this._mergeProps=(0,s.default)({},this._mergeProps,e)}},{key:"addHeaders",value:function(e){this._getRemoteProviders().forEach(function(t){var n=t._itemQueue.getHeaders(),r=(0,s.default)({},n,e);t._itemQueue.setHeaders(r)})}},{key:"addQueryParams",value:function(e){this._getRemoteProviders().forEach(function(t){var n=t._itemQueue.getQueryParams(),r=(0,s.default)({},n,e);t._itemQueue.setQueryParams(r)})}},{key:"addProviderHeaders",value:function(e,t){if(this._providers[e]&&"remote"===this._providers[e]._configuration.type){var n=this._providers[e]._itemQueue.getHeaders(),r=(0,s.default)({},n,t);this._providers[e]._itemQueue.setHeaders(r)}else console.error("Cannot set headers to this provider. Please make sure the provider exists and is a remote provider")}},{key:"setComponent",value:function(e){if(null===e||"string"!=typeof e)throw"Please use a valid value for component";this._component=e,this._getRemoteProviders().forEach(function(t){t._component=e})}},{key:"setActiveLevels",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,l.default)(h.default);this._activeLevels=e.filter(function(e){return t.indexOf(e)>=0})}},{key:"getProvider",value:function(e){return this._providers[e]}},{key:"addProvider",value:function(e,t){"object"===(void 0===t?"undefined":y(t))&&(this._providers[e]=t,"local"===t._configuration.type?this._providers[e]=t:"remote"===t._configuration.type&&(this._providers[e]=t))}},{key:"removeProvider",value:function(e){this._providers[e]=null,delete this._providers[e]}},{key:"debug",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._logToProviders(h.default.DEBUG,e,t,n)}},{key:"info",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._logToProviders(h.default.INFO,e,t,n)}},{key:"log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.info(e,t,n)}},{key:"warn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._logToProviders(h.default.WARN,e,t,n)}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._logToProviders(h.default.ERROR,e,t,n)}},{key:"fatal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._logToProviders(h.default.FATAL,e,t,n)}},{key:"_isValidConfiguration",value:function(e,t){var n=this;return(0,p.default)(e,t,function(e){n._validationErrors=e})}},{key:"_warnConsoleOnce",value:function(e){this._logDisabledPrintedAlready||(console.warn(e),this._logDisabledPrintedAlready=!0)}},{key:"_logToProviders",value:function(e,t,n,r){if(!1===this._isLoggingEnabled)this._warnConsoleOnce("Logging is disabled. Messages will not be logged until loggingEnabled = true");else if(0===Object.keys(this._providers).length)this._warnConsoleOnce("There are no providers. Logging will be disabled until a new provider is added.");else if(this._isActiveLevel(e))for(var o in this._providers)this._providers[o]&&this._providers[o].log(t,e,this._mergeProps,n,r)}},{key:"_isActiveLevel",value:function(e){return this._activeLevels.indexOf(e)>=0}},{key:"_getLoggingConfiguration",value:function(){return this._configuration.logging||{}}},{key:"_addProvidersFromConfiguration",value:function(e){var t=e?e.logging:this._getLoggingConfiguration(),n=t.providers;if(n)for(var r in this._removeCurrentProvidersWithConfiguration(t),n){var o=n[r],i=n[r].type;"local"===i?this.addProvider(r,b(o)):"remote"===i&&this.addProvider(r,w((0,s.default)({},o,{providerName:r,appId:this._appId,component:this._component})))}}},{key:"_getRemoteProviders",value:function(){var e=[];for(var t in this._providers)"remote"===this._providers[t]._configuration.type&&e.push(this._providers[t]);return e}},{key:"_removeCurrentProvidersWithConfiguration",value:function(e){var t=(e||this._getLoggingConfiguration()).providers;for(var n in this._providers)t[n]||this.removeProvider(n)}},{key:"_getLogLevels",value:function(){var e=this._getLoggingConfiguration(),t=[h.default.DEBUG,h.default.INFO,h.default.WARN,h.default.ERROR,h.default.FATAL];if(e.levels&&e.levels.atLevelsOnly)return e.levels.atLevelsOnly;if(e.levels&&e.levels.atLevelAndHigher){var n=void 0;return t.forEach(function(t,r){t===e.levels.atLevelAndHigher&&(n=r)}),t.slice(n)}return t}},{key:"_buildMergeProps",value:function(){var e=this._getLoggingConfiguration();e.addProps&&(this._mergeProps=e.addProps)}}]),e}();function b(e){return new c.default(e)}function w(e){return new f.default(e)}e.default=_}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[e,n(115),n(13),n(35),n(32),n(31)],void 0===(o=function(e,t,n,r,o,i){"use strict";var u=f(t),a=f(n),s=f(r),l=f(o),c=f(i);function f(e){return e&&e.__esModule?e:{default:e}}e.exports={LoggingUtility:u.default,LogLevel:a.default,LocalLoggingProvider:s.default,RemoteLoggingProvider:l.default,LogMessage:c.default}}.apply(t,r))||(e.exports=o)}])},function(e){e.exports={name:"@martech/core-service-adapter",version:"1.1.0",description:"Analytics, logging and various other app fabric sandbox utilities ",main:"index.js",scripts:{build:"webpack --mode production --environment production --config ./webpack.config.js",test:"jest --config=./jest.config.js --coverage"},publishConfig:{registry:"https://registry.npmjs.intuit.com/"},repository:{type:"git",url:"https://github.intuit.com/MarketingTechnology/core-service-adapter.git"},keywords:["MarTech","ttcom","sandbox","core-service-adapter","messaging","pubsub","analytics","logger"],author:"Justin Laugesen",license:"ISC",devDependencies:{"@TTcom/eslint-config-turbotax":"^1.1.2","@babel/core":"^7.4.4","@babel/preset-env":"^7.4.4","@qetools/sculpin":"^1.0.28",ajv:"^5.0.0",babel:"^6.23.0","babel-jest":"^24.8.0","babel-loader":"^8.0.6",eslint:"^4.9.0","eslint-plugin-import":"^2.17.2",jest:"^24.8.0",mocha:"^3.5.3","mocha-junit-reporter":"^1.22.0",opn:"~6.0.0",webpack:"^4.31.0","webpack-cli":"^3.3.2"},dependencies:{"@appfabric/intuit-logging":"^4.0.4","@appfabric/pubsub":"~2.6.2"}}},function(e,t,n){"use strict";n.r(t);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.webSDK=t.webSDK,this.segment=t.segment}var t,n,o;return t=e,(n=[{key:"trackEvent",value:function(e){this.segment&&this.segment.track(e.eventType||"undefinedEventType",e)}}])&&r(t.prototype,n),o&&r(t,o),e}(),i=n(0),u=new(n.n(i).a);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handlers={}}var t,n,r;return t=e,(n=[{key:"registerDataHandler",value:function(e,t){return!(!e||!t)&&(this.handlers[e]=t,!0)}},{key:"getData",value:function(e){if(this.handlers[e]){var t=this.handlers[e].call();return t.then?t:Promise.resolve(t)}return Promise.reject(new Error("Unsupported data type: ".concat(e," was specified")))}}])&&a(t.prototype,n),r&&a(t,r),e}(),l=n(1),c=n.n(l);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=p(this,d(t).call(this))).config=Object.assign({},n),e.oilConfig={},e.setOilConfig(),e.setConfiguration(e.oilConfig),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,c.a.LoggingUtility),n=t,(r=[{key:"setOilConfig",value:function(){this.oilConfig={logging:{schemaVersion:"1.3.0",component:"defaultApp",appId:this.config.appId,levels:{atLevelAndHigher:"debug"},providers:{console:{type:"local"},remote:{type:"remote",env:this.config.remoteEnvironment,reliableTransmission:{maxItems:this.config.reliableTransmissionMaxItems,interval:this.config.reliableTransmissionInterval},endpoint:{host:this.config.endpointHost,port:443,protocol:this.config.endpointProtocol,basepath:this.config.endpointBasepath,bodyFormat:"json",headers:{Authorization:"Intuit_APIKey intuit_apikey=".concat(this.config.endpointHeadersApiKey,", intuit_apkey_version=").concat(this.config.endpointHeadersApKeyVersion)}}}}}}}}])&&h(n.prototype,r),o&&h(n,o),t}(),g=n(2);n.d(t,"default",function(){return m});var m=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.configuration=Object.assign({logging:{}},t),this.analytics=new o(this.configuration.analytics),this.messaging=u,this.data=new s,this.version=g.version,this.logger=new v(this.configuration.logging)}},function(e,t,n){"use strict";n.r(t);var r=n(3);window.CoreServiceAdapter=r.default}]);