"use strict";window.TTCOM_Scripts=window.TTCOM_Scripts||{},window.TTCOM_Scripts.perfBeaconTools=function(){var n={utility:{},add:{}},u={criteria:[],getPromiseFor:{}},r=function(e,r){for(var t=document.querySelectorAll(e),i=0,o=t.length;i<o;i+=1)u.criteria.push(u.getPromiseFor[r](t[i]))};return n.getCriteria=function(){return u.criteria},n.registerCriterion=function(e){u.criteria.push(e)},n.utility.pluckUrlFromBgImgStyle=function(e){var r=null;if(e){r=/(?:\(['"]?)(.*?)(?:['"]?\))/.exec(e)[1]}return r},n.utility.imageHasSuccessfullyLoaded=function(e){return e.complete&&0!==e.naturalHeight},u.getPromiseFor.imageIsLoaded=function(o){return new Promise(function(r,t){var i=0;!function e(){n.utility.imageHasSuccessfullyLoaded(o)?r():i<160?(i++,setTimeout(e,50)):t()}()})},u.getPromiseFor.backgroundImageIsLoaded=function(e){var r=n.utility.pluckUrlFromBgImgStyle(getComputedStyle(e).getPropertyValue("background-image")),t=document.createElement("IMG");return t.setAttribute("src",r),u.getPromiseFor.imageIsLoaded(t)},n.add.imageIsLoaded=function(e){if(window.Promise)return r(e,"imageIsLoaded")},n.add.backgroundImageIsLoaded=function(e){if(window.Promise)return r(e,"backgroundImageIsLoaded")},n}();